<Window x:Class="berles2.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:berles2"
        mc:Ignorable="d"
        Title="Kerékpár Bérlő Rendszer" Height="800" Width="1200"
        WindowStartupLocation="CenterScreen">

    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="80"/>
            <!-- Fejléc -->
            <RowDefinition Height="*"/>
            <!-- Főtartalom -->
            <RowDefinition Height="60"/>
            <!-- Alsó gombok -->
        </Grid.RowDefinitions>

        <!-- FEJLÉC SZEKCIÓ -->
        <Border Grid.Row="0" Background="#2E7D32" Padding="10">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto"/>
                    <!-- Logo -->
                    <ColumnDefinition Width="*"/>
                    <!-- Cégcím -->
                    <ColumnDefinition Width="Auto"/>
                    <!-- Beállítások -->
                </Grid.ColumnDefinitions>

                <!-- LOGO (bal oldal) -->
                <Image Grid.Column="0" x:Name="CompanyLogo" Width="60" Height="60" 
                       Margin="0,0,20,0" VerticalAlignment="Center"/>

                <!-- CÉG NEVE (közép) -->
                <TextBlock Grid.Column="1" x:Name="CompanyNameText" 
                          Text="Kerékpár Bérlő Kft." 
                          FontSize="24" FontWeight="Bold" 
                          Foreground="White" 
                          VerticalAlignment="Center" HorizontalAlignment="Left"/>

                <!-- JOBB OLDALI GOMBOK -->
                <StackPanel Grid.Column="2" Orientation="Horizontal" HorizontalAlignment="Right">
                    <!-- ADATKEZELŐ GOMB -->
                    <Button x:Name="DataManagerButton" 
                            Width="50" Height="50" Margin="0,0,10,0"
                            Background="Transparent" BorderThickness="0"
                            VerticalAlignment="Center"
                            Click="DataManagerButton_Click">
                        <TextBlock Text="🔧" FontSize="24"/>
                    </Button>

                    <!-- BEÁLLÍTÁSOK GOMB -->
                    <!-- BEÁLLÍTÁSOK GOMB -->
                    <Button x:Name="SettingsButton" 
        Width="50" Height="50" 
        Background="Transparent" BorderThickness="0"
        VerticalAlignment="Center"
        Click="SettingsButton_Click">
                        <TextBlock Text="⚙️" FontSize="24"/>
                    </Button>
                </StackPanel>
            </Grid>
        </Border>

        <!-- FŐTARTALOM SZEKCIÓ -->
        <Grid Grid.Row="1" Margin="20">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="1*"/>
                <!-- Bérlő adatok -->
                <ColumnDefinition Width="1*"/>
                <!-- Bérlés részletek -->
                <ColumnDefinition Width="2*"/>
                <!-- Eszközök -->
            </Grid.ColumnDefinitions>

            <!-- BÉRLŐ ADATAI SZEKCIÓ -->
            <GroupBox Grid.Column="0" Header="Bérlő adatai" Margin="0,0,10,0" 
                      FontSize="14" FontWeight="Bold">
                <ScrollViewer VerticalScrollBarVisibility="Auto">
                    <StackPanel Margin="10">
                        <!-- MEGLÉVŐ ÜGYFÉL GOMB -->
                        <StackPanel Orientation="Horizontal" Margin="0,0,0,15">
                            <Button x:Name="SelectExistingCustomerButton" Content="🔍 Meglévő ügyfél" 
                                    Width="130" Height="35" FontSize="12" 
                                    Background="#FF9800" Foreground="White" FontWeight="Bold"
                                    Click="SelectExistingCustomerButton_Click"/>
                            <TextBlock Text="vagy töltsd ki" 
                                      VerticalAlignment="Center" Margin="10,0,0,0" 
                                      FontStyle="Italic" FontSize="10" Foreground="Gray"/>
                        </StackPanel>

                        <!-- KIVÁLASZTOTT ÜGYFÉL JELZÉS -->
                        <Border x:Name="SelectedCustomerBorder" Visibility="Collapsed" 
                                Background="#E8F5E8" BorderBrush="#4CAF50" BorderThickness="2" 
                                Padding="10" Margin="0,0,0,10" CornerRadius="5">
                            <StackPanel>
                                <TextBlock x:Name="SelectedCustomerText" 
          Text="Kiválasztott ügyfél: [Név]" 
          FontWeight="Bold" Foreground="#2E7D32"
          TextTrimming="CharacterEllipsis"
          ToolTip="{Binding RelativeSource={RelativeSource Self}, Path=Text}"
          MaxWidth="400"/>
                                <Button x:Name="ClearSelectedCustomerButton" Content="❌ Törlés" 
                                        Width="80" Height="25" Margin="0,5,0,0" 
                                        Background="#F44336" Foreground="White" FontSize="11"
                                        Click="ClearSelectedCustomerButton_Click"/>
                            </StackPanel>
                        </Border>

                        <Label Content="Név:"/>
                        <TextBox x:Name="CustomerNameTextBox" Height="30" Margin="0,0,0,10"/>

                        <Label Content="Irányítószám:"/>
                        <TextBox x:Name="CustomerZipTextBox" Height="30" Margin="0,0,0,10"/>

                        <Label Content="Város:"/>
                        <TextBox x:Name="CustomerCityTextBox" Height="30" Margin="0,0,0,10"/>

                        <Label Content="Cím:"/>
                        <TextBox x:Name="CustomerAddressTextBox" Height="30" Margin="0,0,0,10"/>

                        <Label Content="E-mail:"/>
                        <TextBox x:Name="CustomerEmailTextBox" Height="30" Margin="0,0,0,10"/>

                        <Label Content="Igazolvány szám:"/>
                        <TextBox x:Name="CustomerIdNumberTextBox" Height="30" Margin="0,0,0,10"/>

                        <Label Content="Megjegyzés:"/>
                        <TextBox x:Name="CustomerCommentTextBox" Height="60" 
                                TextWrapping="Wrap" AcceptsReturn="True"/>
                    </StackPanel>
                </ScrollViewer>
            </GroupBox>

            <!-- BÉRLÉS RÉSZLETEI SZEKCIÓ -->
            <GroupBox Grid.Column="1" Header="Bérlés részletei" Margin="5,0,5,0"
                      FontSize="14" FontWeight="Bold">
                <StackPanel Margin="10">
                    <Label Content="Jegy szám:"/>
                    <TextBox x:Name="TicketNumberTextBox" Height="30" Margin="0,0,0,10" 
                             IsReadOnly="True" Background="#F0F0F0"/>

                    <Label Content="Bérlés kezdete:"/>
                    <TextBox x:Name="RentStartTextBox" Height="30" Margin="0,0,0,10" 
                             IsReadOnly="True" Background="#F0F0F0"/>

                    <Label Content="Bérlési napok:"/>
                    <TextBox x:Name="RentalDaysTextBox" Height="30" Margin="0,0,0,10" Text="1" 
         TextChanged="RentalDaysTextBox_TextChanged"/>

                    <Label Content="Fizetési mód:"/>
                    <ComboBox x:Name="PaymentModeComboBox" Height="30" Margin="0,0,0,10" SelectedIndex="0">
                        <ComboBoxItem Content="Bankkártya"/>
                        <ComboBoxItem Content="Készpénz"/>
                        <ComboBoxItem Content="SZÉP kártya"/>
                        <ComboBoxItem Content="Átutalás"/>
                        <ComboBoxItem Content="Vegyes"/>
                        <ComboBoxItem Content="Egyéb"/>
                    </ComboBox>

                    <Label Content="Megjegyzés:"/>
                    <TextBox x:Name="RentalCommentTextBox" Height="60" 
                            TextWrapping="Wrap" AcceptsReturn="True" Margin="0,0,0,10"/>

                    <Label Content="Végösszeg:"/>
                    <TextBox x:Name="TotalAmountTextBox" Height="30" 
                             IsReadOnly="True" Background="#F0F0F0" 
                             FontWeight="Bold" FontSize="16"/>
                </StackPanel>
            </GroupBox>

            <!-- BÉRELT ESZKÖZÖK SZEKCIÓ -->
            <Grid Grid.Column="2" Margin="10,0,0,0">
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <!-- Keresőmező -->
                    <RowDefinition Height="*"/>
                    <!-- Eszközök lista -->
                </Grid.RowDefinitions>

                <!-- Keresőmező -->
                <StackPanel Grid.Row="0" Orientation="Horizontal" Margin="0,0,0,10">
                    <TextBox x:Name="DeviceSearchTextBox" 
                 Width="250" Height="30" 
                 VerticalContentAlignment="Center"
                 TextChanged="DeviceSearchTextBox_TextChanged"/>
                    <TextBlock Text="🔍 Eszköz keresés" 
                   VerticalAlignment="Center" 
                   Margin="10,0,0,0" FontWeight="Bold"/>
                </StackPanel>

                <!-- Eszközök lista -->
                <GroupBox Grid.Row="1" Header="Bérelt eszközök" FontSize="14" FontWeight="Bold">
                    <ScrollViewer VerticalScrollBarVisibility="Auto">
                        <WrapPanel x:Name="DevicesWrapPanel" Margin="10" 
                      Orientation="Horizontal"/>
                    </ScrollViewer>
                </GroupBox>
            </Grid>
        </Grid>

        <!-- ALSÓ GOMBOK SZEKCIÓ -->
        <Border Grid.Row="2" Background="#F5F5F5" Padding="20,10">
            <Grid>
                <StackPanel Orientation="Horizontal" HorizontalAlignment="Left">
                    <!-- REPORTING GOMB (bal oldal) -->
                    <Button x:Name="ReportingButton" Content="📊 Riportok" 
                Width="120" Height="40" Margin="0,0,10,0"
                Background="#9C27B0" Foreground="White" FontWeight="Bold"
                Click="ReportingButton_Click"/>
                    <!-- ÉRTÉKELÉS GOMB -->
                    <Button x:Name="ReviewButton" Content="⭐ Értékelés" 
Width="120" Height="40" Margin="0,0,10,0"
Background="#FF9800" Foreground="White" FontWeight="Bold"
Click="ReviewButton_Click"/>
                </StackPanel>

                <StackPanel Orientation="Horizontal" HorizontalAlignment="Right">


                    <!-- SZERZŐDÉS GOMB (aktív) -->
                <Button x:Name="ContractButton" Content="📋 Szerződés" 
            Width="120" Height="40" Margin="0,0,10,0"
            Background="#4CAF50" Foreground="White" FontWeight="Bold"
            Click="ContractButton_Click"/>

                <!-- E-MAIL GOMB (inaktív) -->
                <Button x:Name="EmailButton" Content="📧 E-mail" 
            Width="120" Height="40" Margin="0,0,10,0"
            Background="#9E9E9E" Foreground="White" FontWeight="Bold"
            IsEnabled="False" Click="EmailButton_Click"/>

                <!-- SZÁMLA GOMB (inaktív) -->
                <Button x:Name="InvoiceButton" Content="💰 Számla" 
            Width="120" Height="40" Margin="0,0,10,0"
            Background="#9E9E9E" Foreground="White" FontWeight="Bold"
            IsEnabled="False" Click="InvoiceButton_Click"/>

                <!-- BEFEJEZÉS GOMB (új funkció) -->
                <Button x:Name="FinishButton" Content="🔄 Befejezés" 
            Width="120" Height="40"
            Background="#FF5722" Foreground="White" FontWeight="Bold"
            Click="FinishButton_Click"/>
                </StackPanel>
            </Grid>
        </Border>
    </Grid>
</Window>